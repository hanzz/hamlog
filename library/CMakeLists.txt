cmake_minimum_required(VERSION 2.6)

ADD_SUBDIRECTORY(tests)

FILE(GLOB SRC *.c)
FILE(GLOB HEADERS *.h)


ADD_LIBRARY(hamlog SHARED ${HEADERS} ${SRC})
ADD_DEFINITIONS(-fPIC)

#TARGET_LINK_LIBRARIES(hamlog)

SET_TARGET_PROPERTIES(hamlog PROPERTIES
      VERSION ${HAMLOG_VERSION} SOVERSION ${HAMLOG_VERSION}
)

INSTALL(TARGETS hamlog LIBRARY DESTINATION lib ARCHIVE DESTINATION lib COMPONENT libraries)

#CONFIGURE_FILE(transport.pc.in "${CMAKE_CURRENT_BINARY_DIR}/transport.pc")
#INSTALL(FILES "${CMAKE_CURRENT_BINARY_DIR}/transport.pc" DESTINATION lib/pkgconfig)
